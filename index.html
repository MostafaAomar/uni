<!DOCTYPE html>
<html lang="ar" dir="rtl"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุทุจูู ุงูุฏุฑุงุณุฉ ุงูุงุญุชุฑุงูู</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="app-container">
    
    <div id="setup-screen">
        <h1>ูุฑุญุจุงู ุจู ๐</h1>
        <p style="color:#718096">ุงุฎุชุฑ ูุงุฏุฉ ููุจุฏุก ูู ุงูุงุฎุชุจุงุฑ ุฃู ุงูุฏุฑุงุณุฉ</p>
        <div id="subject-list">ุฌุงุฑู ุชุญููู ุงูููุงุฏ...</div>
    </div>

    <div id="mode-screen" class="hidden">
        <h2 id="selected-subject-name"></h2>
        <button class="subject-btn" onclick="setMode('study')">๐ ูุถุน ุงูุฏุฑุงุณุฉ (ุจุทุงูุงุช)</button>
        <button class="subject-btn" onclick="setMode('quiz')">๐ ูุถุน ุงูุงุฎุชุจุงุฑ (ูููุฒ)</button>
        <button onclick="showScreen('setup')" style="background:transparent; color: #718096; box-shadow:none; margin-top:10px;">โ ุงูุนูุฏุฉ ููููุงุฏ</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="progress-container">
            <div id="quiz-progress" class="progress-fill"></div>
        </div>

        <div id="quiz-header" style="display:flex; justify-content: space-between; margin-bottom: 15px; color: #718096; font-size: 0.9rem;">
            <span id="question-count"></span>
            <span id="score-display"></span>
        </div>

        <h3 id="question-text"></h3>
        <div class="inline-controls" style="display:flex; gap:8px; justify-content:flex-end; margin-bottom:10px;">
            <select id="translate-target" style="padding:6px 8px; border-radius:8px; border:1px solid #e2e8f0; background:white;">
                <option value="en">English</option>
                <option value="ar">ุงูุนุฑุจูุฉ</option>
                <option value="fr">Franรงais</option>
                <option value="es">Espaรฑol</option>
            </select>
            <button class="subject-btn" style="padding:8px 12px; height:36px; min-width:44px;" onclick="translateCurrent()">๐ ุชุฑุฌูุฉ</button>
            <button class="subject-btn" style="padding:8px 12px; height:36px; min-width:44px;" onclick="speakCurrent()">๐ ูุทู</button>
        </div>
        
        <div id="options-container"></div>
        
        <div id="quiz-feedback" class="feedback-box hidden"></div>
        <div id="translation-box" class="feedback-box hidden" style="margin-top:8px"></div>

        <div class="nav-container">
            <button id="quiz-prev-btn" class="nav-btn" onclick="prevQuestion()">ุณุงุจู</button>
            <button id="quiz-next-btn" class="nav-btn" onclick="nextQuestion()">ุงูุชุงูู</button>
        </div>
        <div style="display:flex; gap:8px; margin-top:12px;">
            <button class="subject-btn" onclick="saveProgress()">๐พ ุญูุธ ุงูุชูุฏู</button>
            <button class="subject-btn" onclick="loadProgress()">๐ ุชุญููู ุงูุชูุฏู</button>
            <button style="background:#eee; color:#333; border:none; padding:8px 12px; border-radius:6px;" onclick="clearProgress(true)">๐๏ธ ูุณุญ ุงูุชูุฏู</button>
            <span id="save-status" style="color:#4a5568; font-size:0.9rem; align-self:center; margin-left:6px"></span>
        </div>
    </div>

    <div id="study-screen" class="hidden">
        <div class="progress-container">
            <div id="study-progress" class="progress-fill"></div>
        </div>

        <div class="flip-card" onclick="toggleFlip()">
            <div class="flip-card-inner" id="card-inner">
                <div class="flip-card-front">
                    <p id="study-question"></p>
                    <small style="color:#a0aec0; margin-top:15px">ุงุถุบุท ูุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ</small>
                </div>
                <div class="flip-card-back">
                    <p id="study-answer"></p>
                    <small style="opacity:0.8; margin-top:15px">ุงุถุบุท ููุนูุฏุฉ ููุณุคุงู</small>
                </div>
            </div>
        </div>

        <div class="inline-controls" style="display:flex; gap:8px; justify-content:flex-end; margin-top:8px;">
            <select id="translate-target-study" style="padding:6px 8px; border-radius:8px; border:1px solid #e2e8f0; background:white;">
                <option value="en">English</option>
                <option value="ar">ุงูุนุฑุจูุฉ</option>
                <option value="fr">Franรงais</option>
                <option value="es">Espaรฑol</option>
            </select>
            <button class="subject-btn" style="padding:8px 12px; height:36px; min-width:44px;" onclick="translateCurrent(true)">๐ ุชุฑุฌูุฉ</button>
            <button class="subject-btn" style="padding:8px 12px; height:36px; min-width:44px;" onclick="speakCurrent(true)">๐ ูุทู</button>
        </div>
        <div id="translation-box-study" class="feedback-box hidden" style="margin-top:8px"></div>

        <div class="nav-container">
            <button class="nav-btn" onclick="prevQuestion()">ุณุงุจู</button>
            <button class="nav-btn" onclick="nextQuestion()">ุงูุชุงูู</button>
        </div>
        <div style="display:flex; gap:8px; margin-top:12px;">
            <button class="subject-btn" onclick="saveProgress()">๐พ ุญูุธ ุงูุชูุฏู</button>
            <button class="subject-btn" onclick="loadProgress()">๐ ุชุญููู ุงูุชูุฏู</button>
            <button style="background:#eee; color:#333; border:none; padding:8px 12px; border-radius:6px;" onclick="clearProgress(true)">๐๏ธ ูุณุญ ุงูุชูุฏู</button>
            <span id="save-status" style="color:#4a5568; font-size:0.9rem; align-self:center; margin-left:6px"></span>
        </div>
        
        <button onclick="showScreen('mode')" style="margin-top: 20px; background:transparent; color:#718096; box-shadow:none;">ุฎุฑูุฌ ูู ุงูุฏุฑุงุณุฉ</button>
    </div>

    <div id="result-screen" class="hidden">
        <h2>ุงูุชูู ุงูุงุฎุชุจุงุฑ! ๐</h2>
        <div style="font-size: 3rem; margin: 20px 0;">๐</div>
        <p id="final-result" style="font-size: 1.2rem; font-weight:bold; margin-bottom: 30px;"></p>
        <button class="subject-btn" onclick="location.reload()">ุฌุฑุจ ูุงุฏุฉ ุฃุฎุฑู</button>
    </div>

</div>

<script src="app.js"></script>
</body>
</html>